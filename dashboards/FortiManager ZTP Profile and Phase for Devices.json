{
    "@context": "\/api\/3\/contexts\/Dashboard",
    "@type": "Dashboard",
    "uuid": "663dc13b-9a25-4cc9-af85-ed46609e0d4f",
    "displayName": "FortiManager ZTP Profile and Phase for Devices",
    "type": "rows",
    "templateType": "dashboard",
    "roles": [
        "\/api\/3\/roles\/c57340f1-c387-474b-9c24-effc9e3c41aa"
    ],
    "parentTemplateId": null,
    "config": {
        "rows": [
            {
                "columns": [
                    {
                        "widgets": [
                            {
                                "type": "sectionHeader",
                                "config": {
                                    "wid": "f8ba8937-b395-434a-a731-19968c68b895",
                                    "query": {
                                        "filters": [],
                                        "sort": [],
                                        "limit": 10
                                    },
                                    "editorType": "html",
                                    "sectionText": "<p><span class=\"cs-richtext-field\" title=\"Announcements ID 1 - Description\">{{description}}<\/span><\/p>",
                                    "fieldType": "record fields",
                                    "resource": "announcements",
                                    "resourceId": 1
                                }
                            }
                        ],
                        "style": "col-lg-3",
                        "collapsedText": "Quick Links"
                    },
                    {
                        "widgets": [
                            {
                                "type": "rows",
                                "config": {
                                    "wid": "9af65116-a97d-4b64-be01-287b869f0f31",
                                    "rows": [
                                        {
                                            "columns": [
                                                {
                                                    "widgets": [
                                                        {
                                                            "type": "sectionHeader",
                                                            "config": {
                                                                "wid": "17e1798b-283c-4b9c-a11d-679e1c3bc918",
                                                                "query": {
                                                                    "filters": [],
                                                                    "sort": [],
                                                                    "limit": 10
                                                                },
                                                                "editorType": "markdown",
                                                                "sectionText": "# ZTP Profile and Phase for Devices\n\nActive ZTP Profiles on Devices OR were active in the active in the last 15 minutes. "
                                                            }
                                                        }
                                                    ],
                                                    "style": "col-lg-12"
                                                }
                                            ],
                                            "wid": "3eb89ab8-c074-4c44-89df-64ecddb39107",
                                            "_collapsed": false
                                        },
                                        {
                                            "columns": [
                                                {
                                                    "widgets": [
                                                        {
                                                            "type": "chart",
                                                            "config": {
                                                                "wid": "429444bc-c0ab-4edc-8be1-85433e950c07",
                                                                "widgetAlwaysDisplay": true,
                                                                "showTabularData": false,
                                                                "query": {
                                                                    "sort": [],
                                                                    "limit": 2147483647,
                                                                    "logic": "OR",
                                                                    "filters": [
                                                                        {
                                                                            "logic": "AND",
                                                                            "filters": [
                                                                                {
                                                                                    "field": "zTPPhaseCompleted",
                                                                                    "operator": "gt",
                                                                                    "value": "{{getRelativeDate(0,0,0,0,-15,\"end\")}}",
                                                                                    "type": "datetime"
                                                                                }
                                                                            ],
                                                                            "_field": "zTPPhaseCompleted",
                                                                            "_value": {
                                                                                "differenceType": "mins",
                                                                                "differenceValue": -15
                                                                            },
                                                                            "_operator": "gt",
                                                                            "type": "datetime"
                                                                        },
                                                                        {
                                                                            "field": "zTPPhaseStarted",
                                                                            "value": "false",
                                                                            "operator": "isnull",
                                                                            "type": "datetime"
                                                                        },
                                                                        {
                                                                            "field": "zTPProfiles",
                                                                            "operator": "isnull",
                                                                            "value": "false",
                                                                            "_value": {
                                                                                "display": "",
                                                                                "itemValue": "",
                                                                                "@id": "false"
                                                                            },
                                                                            "type": "object"
                                                                        }
                                                                    ],
                                                                    "aggregates": [
                                                                        {
                                                                            "operator": "countdistinct",
                                                                            "field": "*",
                                                                            "alias": "total"
                                                                        },
                                                                        {
                                                                            "operator": "groupby",
                                                                            "alias": "uuid",
                                                                            "field": "zTPProfiles.uuid"
                                                                        },
                                                                        {
                                                                            "operator": "groupby",
                                                                            "alias": "name",
                                                                            "field": "zTPProfiles.name"
                                                                        }
                                                                    ]
                                                                },
                                                                "mapping": {
                                                                    "fieldName": "zTPProfiles",
                                                                    "displayValues": [
                                                                        "name"
                                                                    ]
                                                                },
                                                                "assignedToSetting": "all",
                                                                "aggregate": true,
                                                                "title": "ZTP Profile",
                                                                "resource": "devices",
                                                                "chart": "donut",
                                                                "showCount": true
                                                            }
                                                        }
                                                    ],
                                                    "style": "col-lg-4"
                                                },
                                                {
                                                    "widgets": [
                                                        {
                                                            "type": "chart",
                                                            "config": {
                                                                "wid": "caaed244-3179-471e-a967-b473a8777cfb",
                                                                "widgetAlwaysDisplay": true,
                                                                "showTabularData": false,
                                                                "query": {
                                                                    "sort": [
                                                                        {
                                                                            "field": "zTPPhase.orderIndex",
                                                                            "direction": "ASC"
                                                                        }
                                                                    ],
                                                                    "limit": 2147483647,
                                                                    "logic": "OR",
                                                                    "filters": [
                                                                        {
                                                                            "logic": "AND",
                                                                            "filters": [
                                                                                {
                                                                                    "field": "zTPPhaseCompleted",
                                                                                    "operator": "gt",
                                                                                    "value": "{{getRelativeDate(0,0,0,0,-15,\"end\")}}",
                                                                                    "type": "datetime"
                                                                                }
                                                                            ],
                                                                            "_field": "zTPPhaseCompleted",
                                                                            "_value": {
                                                                                "differenceType": "mins",
                                                                                "differenceValue": -15
                                                                            },
                                                                            "_operator": "gt",
                                                                            "type": "datetime"
                                                                        },
                                                                        {
                                                                            "field": "zTPPhaseStarted",
                                                                            "value": "false",
                                                                            "operator": "isnull",
                                                                            "type": "datetime"
                                                                        },
                                                                        {
                                                                            "field": "zTPProfiles",
                                                                            "operator": "isnull",
                                                                            "value": "false",
                                                                            "_value": {
                                                                                "display": "",
                                                                                "itemValue": "",
                                                                                "@id": "false"
                                                                            },
                                                                            "type": "object"
                                                                        }
                                                                    ],
                                                                    "aggregates": [
                                                                        {
                                                                            "operator": "countdistinct",
                                                                            "field": "*",
                                                                            "alias": "total"
                                                                        },
                                                                        {
                                                                            "operator": "groupby",
                                                                            "alias": "zTPPhase",
                                                                            "field": "zTPPhase.itemValue"
                                                                        },
                                                                        {
                                                                            "operator": "groupby",
                                                                            "alias": "color",
                                                                            "field": "zTPPhase.color"
                                                                        },
                                                                        {
                                                                            "operator": "groupby",
                                                                            "alias": "orderIndex",
                                                                            "field": "zTPPhase.orderIndex"
                                                                        }
                                                                    ]
                                                                },
                                                                "mapping": {
                                                                    "fieldName": "zTPPhase",
                                                                    "displayValues": [
                                                                        "name"
                                                                    ]
                                                                },
                                                                "assignedToSetting": "all",
                                                                "aggregate": true,
                                                                "title": "ZTP Phase",
                                                                "resource": "devices",
                                                                "chart": "donut",
                                                                "showCount": true
                                                            }
                                                        }
                                                    ],
                                                    "style": "col-lg-4"
                                                },
                                                {
                                                    "widgets": [
                                                        {
                                                            "type": "chart",
                                                            "config": {
                                                                "wid": "7d088ed9-3bb4-42a7-8733-940e0c53e98a",
                                                                "widgetAlwaysDisplay": true,
                                                                "showTabularData": false,
                                                                "query": {
                                                                    "sort": [],
                                                                    "limit": 2147483647,
                                                                    "logic": "OR",
                                                                    "filters": [
                                                                        {
                                                                            "logic": "AND",
                                                                            "filters": [
                                                                                {
                                                                                    "field": "zTPPhaseCompleted",
                                                                                    "operator": "gt",
                                                                                    "value": "{{getRelativeDate(0,0,0,0,-15,\"end\")}}",
                                                                                    "type": "datetime"
                                                                                }
                                                                            ],
                                                                            "_field": "zTPPhaseCompleted",
                                                                            "_value": {
                                                                                "differenceType": "mins",
                                                                                "differenceValue": -15
                                                                            },
                                                                            "_operator": "gt",
                                                                            "type": "datetime"
                                                                        },
                                                                        {
                                                                            "field": "zTPPhaseStarted",
                                                                            "value": "false",
                                                                            "operator": "isnull",
                                                                            "type": "datetime"
                                                                        },
                                                                        {
                                                                            "field": "zTPProfiles",
                                                                            "operator": "isnull",
                                                                            "value": "false",
                                                                            "_value": {
                                                                                "display": "",
                                                                                "itemValue": "",
                                                                                "@id": "false"
                                                                            },
                                                                            "type": "object"
                                                                        }
                                                                    ],
                                                                    "aggregates": [
                                                                        {
                                                                            "operator": "countdistinct",
                                                                            "field": "*",
                                                                            "alias": "total"
                                                                        },
                                                                        {
                                                                            "operator": "groupby",
                                                                            "alias": "zTPStatus",
                                                                            "field": "zTPStatus"
                                                                        }
                                                                    ]
                                                                },
                                                                "mapping": {
                                                                    "fieldName": "zTPStatus"
                                                                },
                                                                "assignedToSetting": "all",
                                                                "aggregate": true,
                                                                "title": "ZTP Status",
                                                                "resource": "devices",
                                                                "chart": "donut",
                                                                "showCount": true
                                                            }
                                                        }
                                                    ],
                                                    "style": "col-lg-4"
                                                }
                                            ],
                                            "wid": "a5f97c55-838b-46be-9c6b-e21371d0b192",
                                            "collapsible": false,
                                            "collapsibleIndex": 0,
                                            "_collapsed": false
                                        }
                                    ]
                                }
                            }
                        ],
                        "style": "col-lg-9"
                    }
                ],
                "wid": "8b6203f5-fea3-4592-a7f7-8f663e7fd2d0",
                "collapsible": true,
                "collapsibleIndex": 0,
                "_collapsed": false
            },
            {
                "columns": [
                    {
                        "widgets": [
                            {
                                "type": "grid",
                                "config": {
                                    "wid": "a239503b-c7b2-4b0c-b518-79a4bd18b6e8",
                                    "module": "devices",
                                    "columns": [
                                        "managers",
                                        "deviceName",
                                        "managementModeHTML",
                                        "zTPProfiles",
                                        "deviceMetadataHTML",
                                        "zTPStatusHTML",
                                        "zTPPhase",
                                        "zTPPhaseStarted",
                                        "zTPPhaseCompleted",
                                        "zTPPhaseLast"
                                    ],
                                    "expandableCol": [
                                        {
                                            "openTab": false,
                                            "name": "deviceMetadataHTML"
                                        },
                                        {
                                            "openTab": false,
                                            "name": "reportMarkdown"
                                        }
                                    ],
                                    "relationshipField": [],
                                    "checkboxStatus": true,
                                    "editableFields": false,
                                    "actionButtons": [
                                        {
                                            "id": "\/api\/3\/workflows\/42e6e0f7-2ff2-4fc3-b2b1-c7aa6cf8c7ef",
                                            "name": "Start ZTP Phase on Device",
                                            "icon": "icon icon-running-playbooks"
                                        }
                                    ],
                                    "query": {
                                        "sort": [
                                            {
                                                "direction": "DESC",
                                                "field": "zTPPhaseCompleted",
                                                "_fieldTitle": "ZTP Phase Completed",
                                                "_fieldName": "zTPPhaseCompleted"
                                            }
                                        ],
                                        "limit": 1000,
                                        "logic": "OR",
                                        "filters": [
                                            {
                                                "logic": "AND",
                                                "filters": [
                                                    {
                                                        "field": "zTPPhaseCompleted",
                                                        "operator": "gt",
                                                        "value": "{{getRelativeDate(0,0,0,0,-15,\"end\")}}",
                                                        "type": "datetime"
                                                    }
                                                ],
                                                "_field": "zTPPhaseCompleted",
                                                "_value": {
                                                    "differenceType": "mins",
                                                    "differenceValue": -15
                                                },
                                                "_operator": "gt",
                                                "type": "datetime"
                                            },
                                            {
                                                "field": "zTPPhaseStarted",
                                                "value": "false",
                                                "operator": "isnull",
                                                "type": "datetime"
                                            },
                                            {
                                                "field": "zTPProfiles",
                                                "operator": "isnull",
                                                "value": "false",
                                                "_value": {
                                                    "display": "",
                                                    "itemValue": "",
                                                    "@id": "false"
                                                },
                                                "type": "object"
                                            }
                                        ]
                                    },
                                    "title": "Devices with ZTP Phases",
                                    "enableHorizontalScroll": true
                                }
                            }
                        ],
                        "style": "col-lg-12"
                    }
                ],
                "wid": "ee6302d7-8d07-4e1f-8669-fd50b2edf4e8",
                "_collapsed": false
            }
        ],
        "wid": "7c2df80f-9fa5-4e57-92fd-d3209a34ed3a",
        "metadata": {
            "customTemplateTitle": "Dashboard"
        },
        "readOnlyFlag": true,
        "refreshInterval": 1
    },
    "filterArray": [],
    "updateDate": null
}