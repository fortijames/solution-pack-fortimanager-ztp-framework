{
    "@type": "Workflow",
    "triggerLimit": null,
    "name": "Randomly Create Model Devices - by Manager Record",
    "aliasName": null,
    "tag": null,
    "description": "Randomly create device models in random adoms inside fmg for testing.",
    "isActive": true,
    "debug": false,
    "singleRecordExecution": false,
    "remoteExecutableFlag": false,
    "parameters": [],
    "synchronous": false,
    "collection": "\/api\/3\/workflow_collections\/471dbb4c-2adf-4c66-af86-b5fd05011ee9",
    "versions": [],
    "triggerStep": "\/api\/3\/workflow_steps\/95bc0614-e78c-4ad3-9ba0-4deb1e26cdba",
    "steps": [
        {
            "@type": "WorkflowStep",
            "name": "Ask for user input",
            "description": null,
            "arguments": {
                "type": "InputBased",
                "input": {
                    "schema": {
                        "title": "Provide Model Device details",
                        "description": "# Platforms in Random Creation\n\n<center> \n<hr>\n{{vars.fmg_platform_strings | join(\", \")}} \n<hr>\n<\/center>\n\n# {{vars.input.records[0].managerName}}\nProvide a range of devices numbers to create. For example, if you select 1-100, Devices will be created with names FG0001-FG0100.<br>\nThe number you specify will be evenly distributes amongst all ADOMs.<br>\nThe preshared key will be the same as the device name.<br>\nThe platform_string will also be randomly generated. The valid options are set in this playbooks \"Set Vars\" step",
                        "inputVariables": [
                            {
                                "name": "rangeOfDevices",
                                "type": "string",
                                "label": "Range of devices",
                                "title": "Integer Field",
                                "usable": true,
                                "tooltip": "",
                                "dataType": "text",
                                "formType": "text",
                                "required": true,
                                "_expanded": true,
                                "mmdUpdate": true,
                                "collection": false,
                                "searchable": true,
                                "templateUrl": "app\/components\/form\/fields\/integer.html",
                                "defaultValue": "1-10",
                                "_previousName": "rangeOfDevices",
                                "playbookField": true,
                                "lengthConstraint": true,
                                "allowedEncryption": false,
                                "allowedGridColumn": true,
                                "jinjaExpressionView": true,
                                "useRecordFieldDefault": false
                            }
                        ]
                    }
                },
                "record": "",
                "timeout": {
                    "days": 0,
                    "hours": 0,
                    "minutes": 1,
                    "step_iri": "\/api\/3\/workflow_steps\/de467f4a-a9d1-4602-a472-a1484a2d94fb"
                },
                "agent_id": null,
                "resources": "forti_cloud_assets",
                "is_approval": false,
                "owner_detail": {
                    "isAssigned": false,
                    "emailRecipients": ""
                },
                "isRecordLinked": false,
                "step_variables": [],
                "response_mapping": {
                    "options": [
                        {
                            "option": "Submit",
                            "step_iri": "\/api\/3\/workflow_steps\/63b55586-ff56-41e1-bd2b-58a97043b148"
                        },
                        {
                            "option": "Cancel",
                            "step_iri": "\/api\/3\/workflow_steps\/de467f4a-a9d1-4602-a472-a1484a2d94fb"
                        }
                    ],
                    "duplicateOption": false,
                    "customSuccessMessage": "Awaiting Playbook resumed successfully."
                },
                "email_notification": {
                    "enabled": false,
                    "smtpParameters": []
                },
                "customEmailExternal": false,
                "inline_channel_list": [],
                "external_channel_list": [],
                "unauthenticated_input": false,
                "external_email_subject": null,
                "internal_email_subject": "A FortiSOAR playbook is requesting your input",
                "custom_email_body_external": null,
                "external_email_attachments": null
            },
            "status": null,
            "top": "400",
            "left": "40",
            "stepType": "\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe",
            "group": null,
            "uuid": "4e401cca-0a2b-480b-b702-9929819bc7a1"
        },
        {
            "@type": "WorkflowStep",
            "name": "Calculate version options",
            "description": null,
            "arguments": {
                "config": "6452db36-dc11-44a1-9a7f-231a9b569ef5",
                "params": {
                    "python_function": "adom_ver = {{vars.adom_version}}\n\nprint([\"{0:.1f}\".format(adom_ver), \"{0:.1f}\".format(adom_ver + .2) ])"
                },
                "version": "2.0.3",
                "connector": "code-snippet",
                "operation": "python_inline_code_editor",
                "operationTitle": "Execute Python Code",
                "step_variables": []
            },
            "status": null,
            "top": "1200",
            "left": "660",
            "stepType": "\/api\/3\/workflow_step_types\/1fdd14cc-d6b4-4335-a3af-ab49c8ed2fd8",
            "group": null,
            "uuid": "34551ce3-d7bd-497e-a1b9-3504a7ca2292"
        },
        {
            "@type": "WorkflowStep",
            "name": "Cancel or Timeout",
            "description": null,
            "arguments": {
                "params": [],
                "version": "3.4.0",
                "connector": "cyops_utilities",
                "operation": "no_op",
                "operationTitle": "Utils: No Operation",
                "step_variables": []
            },
            "status": null,
            "top": "360",
            "left": "400",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "de467f4a-a9d1-4602-a472-a1484a2d94fb"
        },
        {
            "@type": "WorkflowStep",
            "name": "Copy of Create model device",
            "description": null,
            "arguments": {
                "for_each": {
                    "item": "{{vars.input.records}}",
                    "parallel": false,
                    "condition": ""
                },
                "arguments": {
                    "fgt_mr": "{{vars.adom_version.split('.')[1] if '.' in vars.adom_version else 0 }}",
                    "fgt_sn": "{{vars.item.serialNumber}}",
                    "fgt_name": "{{vars.item.serialNumber}}",
                    "fmg_adom": "{{vars.steps.Ask_for_adom_and_other_details.input.fortiManagerADOM.split(\" \")[0]}}",
                    "fgt_patch": "0",
                    "fgt_os_version": "{{vars.adom_version.split('.')[0] if '.' in vars.adom_version else vars.adom_version  }}",
                    "connector_config": "{{vars.steps.Ask_for_user_input.input.fortiManager}}"
                },
                "apply_async": false,
                "step_variables": [],
                "pass_parent_env": false,
                "pass_input_record": false,
                "workflowReference": "\/api\/3\/workflows\/c2d6a006-6f14-4c1d-85b3-3f516646ff86"
            },
            "status": null,
            "top": "1260",
            "left": "340",
            "stepType": "\/api\/3\/workflow_step_types\/74932bdc-b8b6-4d24-88c4-1a4dfbc524f3",
            "group": null,
            "uuid": "65b1249a-11bb-4d77-8aea-0d2efd594932"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create device Dictionary",
            "description": null,
            "arguments": {
                "devices": "{%- set devices = [] -%}\n{%- for device_number in range(vars.lower_number, vars.upper_number + 1) | list -%}\n{%- set dev_model = vars.fmg_platform_strings | random  -%}\n{%- set adom = vars.fortimanager_adom_names | random  -%}\n{%- set adom_ver= vars.adom_ver_dict.get(adom).split('.') -%}\n{%- set os,mr = (adom_ver[0] | int),(adom_ver[1] | int) -%}\n{%- do devices.append({\"device_name\": (\"FG\" + '%05d' %  device_number), \"dev_model\": dev_model, \"fmg_adom\":  adom , \"fgt_os\": os, \"fgt_mr\": mr}) -%}\n{%- endfor -%}{{devices}}"
            },
            "status": null,
            "top": "860",
            "left": "400",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "4ce9ea62-13a7-4636-848d-2e3a2b47ac8b"
        },
        {
            "@type": "WorkflowStep",
            "name": "create fmg platforms",
            "description": null,
            "arguments": {
                "fmg_platforms": "{%- set table = [] -%}\n{%- if vars.fmg_platforms_command != '' -%}\n  {%- for l in vars.fmg_platforms_command.split('\\n') -%}\n    {%- if l | regex_search(\"\\s+Forti.*-\") -%}\n      {%- set m = l | regex_replace(\"^\\s+\",\"\") | split(\" \")  -%}\n      {%- set _do = table.append(m[0]) -%}\n    {%- endif -%}\n  {%- endfor -%}\n{%- else -%}\n      {%- set _do = table.append(\"FortiGate-VM64\") -%}\n{%- endif -%}\n{{table}}"
            },
            "status": null,
            "top": "120",
            "left": "400",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "959dd5fd-9850-4e2f-beb8-e5e3d8c1ed80"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create model device",
            "description": null,
            "arguments": {
                "for_each": {
                    "item": "{{vars.devices}}",
                    "__bulk": false,
                    "parallel": true,
                    "condition": ""
                },
                "arguments": {
                    "fgt_mr": "{{vars.item.fgt_mr}}",
                    "fmg_psk": "{{vars.item.device_name}}",
                    "fgt_name": "{{vars.item.device_name}}",
                    "fmg_adom": "{{vars.item.fmg_adom}}",
                    "fgt_patch": "0",
                    "fgt_os_version": "{{vars.item.fgt_os}}",
                    "connector_config": "{{vars.connector_config}}",
                    "fgt_platform_str": "{{vars.item.dev_model}}"
                },
                "apply_async": false,
                "step_variables": [],
                "pass_parent_env": false,
                "pass_input_record": false,
                "workflowReference": "\/api\/3\/workflows\/e2b45e0f-f56c-42f7-8a99-f33d26199559"
            },
            "status": null,
            "top": "960",
            "left": "400",
            "stepType": "\/api\/3\/workflow_step_types\/74932bdc-b8b6-4d24-88c4-1a4dfbc524f3",
            "group": null,
            "uuid": "c57458d4-a7cb-499d-ac06-902af6c14d61"
        },
        {
            "@type": "WorkflowStep",
            "name": "Error Bad character found",
            "description": null,
            "arguments": {
                "type": "InputBased",
                "input": {
                    "schema": {
                        "title": "Error: Bad Character submitted",
                        "description": "You have submitted something other than a number or a - (dash). Please retry the playbook with expected input. \n\nError Character: {{vars.steps.Ask_for_user_input.input.rangeOfDevices | regex_search('[^0-9-]')  }}",
                        "inputVariables": []
                    }
                },
                "record": "",
                "agent_id": null,
                "resources": "forti_cloud_assets",
                "owner_detail": {
                    "isAssigned": false
                },
                "isRecordLinked": false,
                "step_variables": [],
                "response_mapping": {
                    "options": [
                        {
                            "option": "Done",
                            "step_iri": "\/api\/3\/workflow_steps\/undefined"
                        }
                    ],
                    "duplicateOption": false
                },
                "email_notification": {
                    "enabled": false,
                    "smtpParameters": []
                },
                "inline_channel_list": [],
                "external_channel_list": [],
                "unauthenticated_input": false
            },
            "status": null,
            "top": "440",
            "left": "840",
            "stepType": "\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe",
            "group": null,
            "uuid": "85818c71-d3e2-444a-b01c-7095bac766d3"
        },
        {
            "@type": "WorkflowStep",
            "name": "extract fmg platforms",
            "description": null,
            "arguments": {
                "fmg_platforms": "{%- set platforms = vars.fmg_platform_data -%}\n{%- set table = [] -%}\n{%- set flags = {}-%}\n{%- for p in platforms -%}\n\n  {%- set _do = flags.update({\"exclude\": False}) -%}\n  {%- set _do = flags.update({\"include\": False}) -%}\n\n  {%- for e in vars.exclude_patterns -%}\n    {%- if not flags.exclude and (p['platform_name']|lower | regex_search(e|lower)) -%}\n      {%- set _do = flags.update({\"exclude\": True}) -%}\n    {%- endif -%} \n  {%- endfor -%}\n\n  {%- if vars.include_patterns|length > 0 -%}\n    {%- for e in vars.include_patterns -%}\n      {%- if not flags.include and (p['platform_name']|lower | regex_search(e|lower)) -%}\n        {%- set _do = flags.update({\"include\": True}) -%}\n      {%- endif -%} \n    {%- endfor -%}\n  {%- else -%}\n    {%- set _do = flags.update({\"include\": True}) -%}\n  {%- endif -%}\n\n  {%- if flags.include and not flags.exclude -%}\n    {%- set _do = table.append(p['platform_name']) -%}\n  {%- endif -%}\n\n{%- endfor -%}\n{{table}}"
            },
            "status": null,
            "top": "200",
            "left": "400",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "77b11044-fc65-4981-8baa-da78a2d3a1f0"
        },
        {
            "@type": "WorkflowStep",
            "name": "fmg platform override",
            "description": "Paste results from \"diagnose dvm supported-platforms list fortigate\", with any modifications of removing lines, to override the platform index. Use the include or exclude variables, as a list, with regex to modify the list from the FMG API call.",
            "arguments": {
                "exclude_patterns": "{%- if vars.input.params.excludePatterns is iterable -%}\n{{vars.input.params.excludePatterns}}\n{%- else -%}\n[\n  'Container',\n  'FortiGate-[67]00\\d'\n]\n{%- endif -%}",
                "include_patterns": "{%- if vars.input.params.includePatterns is iterable -%}\n{{vars.input.params.includePatterns}}\n{%- else -%}\n''\n{%- endif -%}",
                "fmg_platforms_command": "",
                "exclude_patterns_example": "[\n  'Container',\n  'FortiGate-[67]00\\d'\n]",
                "include_patterns_example": "[\n\"FortiGate-4[012][A-Z]\",\n\"FortiGate-5[012][A-Z]\"\n]"
            },
            "status": null,
            "top": "20",
            "left": "400",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "0d6704d0-a854-47c1-82d8-ddeb1b960a9e"
        },
        {
            "@type": "WorkflowStep",
            "name": "get fmg platforms",
            "description": null,
            "arguments": {
                "arguments": {
                    "adom": "root",
                    "os_type": "fos",
                    "connector_config": "{{vars.input.records[0].managerName}}"
                },
                "apply_async": false,
                "step_variables": {
                    "fmg_platform_data": "{{vars.steps.get_fmg_platforms.output[0].data}}"
                },
                "pass_parent_env": false,
                "pass_input_record": false,
                "workflowReference": "\/api\/3\/workflows\/5ead9a57-6f2d-4a12-b561-c924865c7cc8"
            },
            "status": null,
            "top": "200",
            "left": "780",
            "stepType": "\/api\/3\/workflow_step_types\/74932bdc-b8b6-4d24-88c4-1a4dfbc524f3",
            "group": null,
            "uuid": "5bc962e0-481d-4717-ba36-42de5803c5e8"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get fortimanager adoms",
            "description": null,
            "arguments": {
                "arguments": {
                    "fortimanager_config": "{{vars.connector_config}}"
                },
                "apply_async": false,
                "step_variables": [],
                "pass_parent_env": false,
                "pass_input_record": false,
                "workflowReference": "\/api\/3\/workflows\/c7781dd3-2aed-423e-91d1-d686bee7b4b4"
            },
            "status": null,
            "top": "660",
            "left": "400",
            "stepType": "\/api\/3\/workflow_step_types\/74932bdc-b8b6-4d24-88c4-1a4dfbc524f3",
            "group": null,
            "uuid": "923ae0d5-1187-43e5-9038-4c7928aa84a9"
        },
        {
            "@type": "WorkflowStep",
            "name": "Query for Patforms",
            "description": null,
            "arguments": {
                "conditions": [
                    {
                        "option": "Query",
                        "default": true,
                        "step_iri": "\/api\/3\/workflow_steps\/5bc962e0-481d-4717-ba36-42de5803c5e8",
                        "step_name": "get fmg platforms"
                    },
                    {
                        "option": "Create Platform List",
                        "step_iri": "\/api\/3\/workflow_steps\/959dd5fd-9850-4e2f-beb8-e5e3d8c1ed80",
                        "condition": "{{ vars.fmg_platforms_command != '' }}",
                        "step_name": "create fmg platforms"
                    }
                ],
                "step_variables": []
            },
            "status": null,
            "top": "60",
            "left": "780",
            "stepType": "\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28",
            "group": null,
            "uuid": "b9aa7e80-3724-4dc8-acec-7add75e76e42"
        },
        {
            "@type": "WorkflowStep",
            "name": "Set fortimanager adoms vars",
            "description": null,
            "arguments": {
                "adom_ver_dict": "{% set options = {}-%}\n{%- for adom in vars.steps.Get_fortimanager_adoms.output -%}\n{%- do options.update({adom.name:  (adom.os_ver | int ) ~ \".\" ~ adom.mr}) -%}\n{%- endfor -%}{{options}}",
                "fortimanager_adom_names": "{% set options = []-%}\n\n{%- for adom in vars.steps.Get_fortimanager_adoms.output -%}\n{%- do options.append(adom.name) -%}\n{%endfor%}{{options}}"
            },
            "status": null,
            "top": "760",
            "left": "400",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "9fc724e1-b46e-4ea6-882e-e292787dac46"
        },
        {
            "@type": "WorkflowStep",
            "name": "Set input vars",
            "description": null,
            "arguments": {
                "fortimanager": "{{vars.steps.Ask_for_user_input.input.fortiManager}}",
                "lower_number": "{{vars.steps.Ask_for_user_input.input.rangeOfDevices.split('-')[0] | int}}",
                "upper_number": "{{vars.steps.Ask_for_user_input.input.rangeOfDevices.split('-')[1] | int}}"
            },
            "status": null,
            "top": "560",
            "left": "400",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "139d0eb2-f8bb-460c-98c1-14d77b953cce"
        },
        {
            "@type": "WorkflowStep",
            "name": "setup vars",
            "description": null,
            "arguments": {
                "fmg_version": "{%- set f = vars.input.records[0].firmware.split(\".\") -%}\n{{f[0] + \".\" + f[1]}}",
                "connector_name": "fortinet-fortimanager-json-rpc",
                "connector_config": "{{vars.input.records[0].managerName}}",
                "connector_version": "1.0.0",
                "fmg_platform_strings": "{{vars.fmg_platforms}}"
            },
            "status": null,
            "top": "160",
            "left": "40",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "84f2ff04-60ff-4876-8c80-bd3db1a17b96"
        },
        {
            "@type": "WorkflowStep",
            "name": "Start",
            "description": null,
            "arguments": {
                "route": "fd046afa-146b-4b2f-a4cd-ecb50437edd3",
                "title": "Device Model - Create Randomly",
                "resources": [
                    "managers"
                ],
                "__triggerLimit": true,
                "inputVariables": [
                    {
                        "name": "includePatterns",
                        "type": "string",
                        "label": "Include Patterns",
                        "title": "Text Area",
                        "usable": false,
                        "tooltip": "Using a json list and regex patterns specify the models you want to INCLUDE in the random platform list.",
                        "dataType": "text",
                        "formType": "textarea",
                        "required": false,
                        "_expanded": true,
                        "mmdUpdate": false,
                        "collection": false,
                        "searchable": false,
                        "templateUrl": "app\/components\/form\/fields\/json.html",
                        "defaultValue": null,
                        "_previousName": "includePatterns",
                        "playbookField": true,
                        "lengthConstraint": false,
                        "allowedGridColumn": false,
                        "jinjaExpressionView": true,
                        "useRecordFieldDefault": false
                    },
                    {
                        "name": "excludePatterns",
                        "type": "string",
                        "label": "Exclude Patterns",
                        "title": "Text Area",
                        "usable": false,
                        "tooltip": "Using a json list and regex patterns specify the models you want EXCLUDE in the random platform list.",
                        "dataType": "text",
                        "formType": "textarea",
                        "required": false,
                        "_expanded": true,
                        "mmdUpdate": false,
                        "collection": false,
                        "searchable": false,
                        "templateUrl": "app\/components\/form\/fields\/json.html",
                        "defaultValue": null,
                        "_previousName": "includePatterns",
                        "playbookField": true,
                        "visibilityQuery": {
                            "sort": [],
                            "limit": 30,
                            "logic": "AND",
                            "filters": []
                        },
                        "lengthConstraint": false,
                        "allowedGridColumn": false,
                        "jinjaExpressionView": true,
                        "useRecordFieldDefault": false,
                        "_addVisibilityConditions": true
                    }
                ],
                "step_variables": {
                    "input": {
                        "params": {
                            "excludePatterns": "{{vars.request.data[\"excludePatterns\"]}}",
                            "includePatterns": "{{vars.request.data[\"includePatterns\"]}}"
                        },
                        "records": "{{vars.input.records}}"
                    }
                },
                "_promptexpanded": true,
                "triggerOnSource": true,
                "displayConditions": {
                    "managers": {
                        "sort": [],
                        "limit": 30,
                        "logic": "AND",
                        "filters": []
                    },
                    "forti_cloud_assets": {
                        "sort": [],
                        "limit": 30,
                        "logic": "AND",
                        "filters": []
                    }
                },
                "executeButtonText": "Execute",
                "noRecordExecution": false,
                "showToasterMessage": {
                    "visible": false,
                    "messageVisible": true
                },
                "triggerOnReplicate": false,
                "singleRecordExecution": true
            },
            "status": null,
            "top": "20",
            "left": "40",
            "stepType": "\/api\/3\/workflow_step_types\/f414d039-bb0d-4e59-9c39-a8f1e880b18a",
            "group": null,
            "uuid": "95bc0614-e78c-4ad3-9ba0-4deb1e26cdba"
        },
        {
            "@type": "WorkflowStep",
            "name": "synch_devicedb",
            "description": null,
            "arguments": {
                "arguments": {
                    "connector_config": "{{vars.connector_config}}"
                },
                "apply_async": false,
                "step_variables": [],
                "pass_parent_env": false,
                "pass_input_record": false,
                "workflowReference": "\/api\/3\/workflows\/7aa66310-639d-417a-9762-bc361df824ad"
            },
            "status": null,
            "top": "480",
            "left": "40",
            "stepType": "\/api\/3\/workflow_step_types\/74932bdc-b8b6-4d24-88c4-1a4dfbc524f3",
            "group": null,
            "uuid": "0e92fd1e-2fa1-4849-9322-1b1044cf2530"
        },
        {
            "@type": "WorkflowStep",
            "name": "Validate Input",
            "description": null,
            "arguments": {
                "conditions": [
                    {
                        "option": "Found bad characters",
                        "step_iri": "\/api\/3\/workflow_steps\/85818c71-d3e2-444a-b01c-7095bac766d3",
                        "condition": "{{ vars.steps.Ask_for_user_input.input.rangeOfDevices | regex_search('[^0-9-]') != None }}",
                        "step_name": "Error Bad character found"
                    },
                    {
                        "option": "Continue",
                        "default": true,
                        "step_iri": "\/api\/3\/workflow_steps\/139d0eb2-f8bb-460c-98c1-14d77b953cce",
                        "step_name": "Set input vars"
                    }
                ]
            },
            "status": null,
            "top": "440",
            "left": "400",
            "stepType": "\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28",
            "group": null,
            "uuid": "63b55586-ff56-41e1-bd2b-58a97043b148"
        }
    ],
    "routes": [
        {
            "@type": "WorkflowRoute",
            "name": "Ask for user input -> Timeout",
            "targetStep": "\/api\/3\/workflow_steps\/de467f4a-a9d1-4602-a472-a1484a2d94fb",
            "sourceStep": "\/api\/3\/workflow_steps\/4e401cca-0a2b-480b-b702-9929819bc7a1",
            "label": "Cancel",
            "isExecuted": false,
            "group": null,
            "uuid": "3a3b3464-bb75-43c6-9cb2-8d46268689a0"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Ask for user input -> Validate Input",
            "targetStep": "\/api\/3\/workflow_steps\/63b55586-ff56-41e1-bd2b-58a97043b148",
            "sourceStep": "\/api\/3\/workflow_steps\/4e401cca-0a2b-480b-b702-9929819bc7a1",
            "label": "Submit",
            "isExecuted": false,
            "group": null,
            "uuid": "3880ef0a-53f0-4084-97a9-7755648069fc"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Create device Dictionary -> Create model device",
            "targetStep": "\/api\/3\/workflow_steps\/c57458d4-a7cb-499d-ac06-902af6c14d61",
            "sourceStep": "\/api\/3\/workflow_steps\/4ce9ea62-13a7-4636-848d-2e3a2b47ac8b",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "38ed1503-0e13-44d3-b8b9-9313248826ca"
        },
        {
            "@type": "WorkflowRoute",
            "name": "create fmg platforms -> setup vars",
            "targetStep": "\/api\/3\/workflow_steps\/84f2ff04-60ff-4876-8c80-bd3db1a17b96",
            "sourceStep": "\/api\/3\/workflow_steps\/959dd5fd-9850-4e2f-beb8-e5e3d8c1ed80",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "8a46371b-91c0-4e1f-9662-c9407f6faf59"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Create model device -> synch_devicedb",
            "targetStep": "\/api\/3\/workflow_steps\/0e92fd1e-2fa1-4849-9322-1b1044cf2530",
            "sourceStep": "\/api\/3\/workflow_steps\/c57458d4-a7cb-499d-ac06-902af6c14d61",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "b391466a-5477-4410-bc6a-53ee56bb2a84"
        },
        {
            "@type": "WorkflowRoute",
            "name": "extract fmg platforms -> setup vars",
            "targetStep": "\/api\/3\/workflow_steps\/84f2ff04-60ff-4876-8c80-bd3db1a17b96",
            "sourceStep": "\/api\/3\/workflow_steps\/77b11044-fc65-4981-8baa-da78a2d3a1f0",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "01fd2e12-197c-4f02-85ee-d16fbc2a4a81"
        },
        {
            "@type": "WorkflowRoute",
            "name": "fmg platform command output -> Query for Patforms",
            "targetStep": "\/api\/3\/workflow_steps\/b9aa7e80-3724-4dc8-acec-7add75e76e42",
            "sourceStep": "\/api\/3\/workflow_steps\/0d6704d0-a854-47c1-82d8-ddeb1b960a9e",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "567a7a3a-7159-4ac5-b9e8-fb77e6dcbceb"
        },
        {
            "@type": "WorkflowRoute",
            "name": "get fmg platforms -> extract fmg platforms",
            "targetStep": "\/api\/3\/workflow_steps\/77b11044-fc65-4981-8baa-da78a2d3a1f0",
            "sourceStep": "\/api\/3\/workflow_steps\/5bc962e0-481d-4717-ba36-42de5803c5e8",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "08e50724-8265-4efb-a0e0-204c9cb6cb8c"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get fortimanager vdoms -> Set fortimanager vdoms",
            "targetStep": "\/api\/3\/workflow_steps\/9fc724e1-b46e-4ea6-882e-e292787dac46",
            "sourceStep": "\/api\/3\/workflow_steps\/923ae0d5-1187-43e5-9038-4c7928aa84a9",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "bf488ab3-d31f-49bc-8826-57280e6a3652"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Query for Patforms -> create fmg platforms",
            "targetStep": "\/api\/3\/workflow_steps\/959dd5fd-9850-4e2f-beb8-e5e3d8c1ed80",
            "sourceStep": "\/api\/3\/workflow_steps\/b9aa7e80-3724-4dc8-acec-7add75e76e42",
            "label": "Create Platform List",
            "isExecuted": false,
            "group": null,
            "uuid": "cf21325a-474d-40fa-b7ee-4eba9336f19a"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Query for Patforms -> get fmg platforms",
            "targetStep": "\/api\/3\/workflow_steps\/5bc962e0-481d-4717-ba36-42de5803c5e8",
            "sourceStep": "\/api\/3\/workflow_steps\/b9aa7e80-3724-4dc8-acec-7add75e76e42",
            "label": "Query",
            "isExecuted": false,
            "group": null,
            "uuid": "43467611-70a8-4562-80f9-346e6d8c90d0"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Set fortimanager adoms vars -> Create device Dictionary",
            "targetStep": "\/api\/3\/workflow_steps\/4ce9ea62-13a7-4636-848d-2e3a2b47ac8b",
            "sourceStep": "\/api\/3\/workflow_steps\/9fc724e1-b46e-4ea6-882e-e292787dac46",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "b06156bc-079e-4d81-a7f7-68edf9739172"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Set input vars -> Get fortimanager adoms",
            "targetStep": "\/api\/3\/workflow_steps\/923ae0d5-1187-43e5-9038-4c7928aa84a9",
            "sourceStep": "\/api\/3\/workflow_steps\/139d0eb2-f8bb-460c-98c1-14d77b953cce",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "1dfa7172-f152-4805-b0be-9d803507cc02"
        },
        {
            "@type": "WorkflowRoute",
            "name": "setup vars -> Ask for user input",
            "targetStep": "\/api\/3\/workflow_steps\/4e401cca-0a2b-480b-b702-9929819bc7a1",
            "sourceStep": "\/api\/3\/workflow_steps\/84f2ff04-60ff-4876-8c80-bd3db1a17b96",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "a2095f13-aab9-483d-aa51-057b08ff0819"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Start -> fmg platform command output",
            "targetStep": "\/api\/3\/workflow_steps\/0d6704d0-a854-47c1-82d8-ddeb1b960a9e",
            "sourceStep": "\/api\/3\/workflow_steps\/95bc0614-e78c-4ad3-9ba0-4deb1e26cdba",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "5e30bc52-de02-441e-b57a-b89be9df24eb"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Validate Input -> Error Bad character found",
            "targetStep": "\/api\/3\/workflow_steps\/85818c71-d3e2-444a-b01c-7095bac766d3",
            "sourceStep": "\/api\/3\/workflow_steps\/63b55586-ff56-41e1-bd2b-58a97043b148",
            "label": "Found bad characters",
            "isExecuted": false,
            "group": null,
            "uuid": "3fae0efe-55f9-43d9-bc30-48fbf1c7937f"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Validate Input -> Set input vars",
            "targetStep": "\/api\/3\/workflow_steps\/139d0eb2-f8bb-460c-98c1-14d77b953cce",
            "sourceStep": "\/api\/3\/workflow_steps\/63b55586-ff56-41e1-bd2b-58a97043b148",
            "label": "Continue",
            "isExecuted": false,
            "group": null,
            "uuid": "29b45c65-c8cd-4ded-b68e-a03cc1458734"
        }
    ],
    "groups": [
        {
            "@type": "WorkflowGroup",
            "name": "Important Notes",
            "description": "This playbook will assume for you to use the same fortios version as the ADOM. IE if you chose ADOM X and it has version 7.2, 7.2 will be used for the fortios.",
            "type": "note",
            "isCollapsed": false,
            "hasTriggerStep": false,
            "hideInLogs": false,
            "metadata": [],
            "reusable": false,
            "top": "520",
            "left": "680",
            "height": "133",
            "width": "425",
            "uuid": "703b29a9-9189-4262-a64f-6004218b07da",
            "recordTags": []
        },
        {
            "@type": "WorkflowGroup",
            "name": "Platform Logic",
            "description": "Platforms are obtained by querying FMG and using the include and excude variables to tune the results. If you want to override this you can run the command \/diagnose dvm supported-platforms list fortigate\/ in the FMG and paste the results into the vars.fmg_platforms_command.",
            "type": "note",
            "isCollapsed": false,
            "hasTriggerStep": false,
            "hideInLogs": false,
            "metadata": [],
            "reusable": false,
            "top": "80",
            "left": "1040",
            "height": "168",
            "width": "498",
            "uuid": "38c87146-f74b-459f-ae8e-893e641392ab",
            "recordTags": []
        }
    ],
    "priority": "\/api\/3\/picklists\/2b563c61-ae2c-41c0-a85a-c9709585e3f2",
    "uuid": "14c3e417-9eb7-47f8-bd7f-0f45b56e495b",
    "owners": [],
    "isPrivate": false,
    "deletedAt": null,
    "recordTags": [
        "connector_config",
        "erxclude_patterns",
        "include_patterns"
    ]
}